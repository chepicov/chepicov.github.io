(this.webpackJsonpluuk=this.webpackJsonpluuk||[]).push([[0],{66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var r=n(104),o=n(0),a=n.n(o),c=n(23),i=n.n(c),s=n(26),u=n(9),l=n(91),d=n(93),b=n(94),f=n(2),p=function(){return Object(f.jsx)("div",{children:Object(f.jsx)(l.a,{position:"static",children:Object(f.jsx)(d.a,{children:Object(f.jsx)(s.b,{to:"/",children:Object(f.jsx)(b.a,{variant:"h1",children:"Luuk"})})})})})},j=n(21),h=n(37),m=n(13),O=n.n(m),x=n(12),v=n(40),g=n(18),k=n(19),y=n(103),w=n(68),C=n(102),S=n(96),T=n(97),N=n(99),E=n(100),I=n(95),P=n(98),R=n(105),F=n(101),z=Object(y.a)((function(e){return{table:{},bold:{fontWeight:"bold"},row:{"&:hover":{backgroundColor:"#cccaca"},backgroundColor:"#ececec",cursor:"pointer"},footer:{width:"100%",backgroundColor:"#fff",position:"fixed",top:"auto",bottom:0}}})),A=function(e){var t=e.rows,n=e.columns,r=e.isLoading,o=e.onRowClick,c=e.extendedItems,i=e.groupColumns,s=e.onRemove,u=z(),l=a.a.useState([]),b=Object(k.a)(l,2),p=b[0],h=b[1],m=a.a.useState([]),x=Object(k.a)(m,2),v=x[0],y=x[1],w=function(){var e=Object(g.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(v),y([]);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:u.table,children:[Object(f.jsx)(I.a,{children:Object(f.jsxs)(S.a,{children:[Object(f.jsx)(T.a,{children:Object(f.jsxs)(P.a,{children:[Object(f.jsx)(N.a,{component:"th",children:Object(f.jsx)(R.a,{checked:v.length===t.length,color:"primary",onChange:function(){v.length===t.length?y([]):y(t.map((function(e){return e.id})))}})}),n.map((function(e){return Object(f.jsx)(N.a,{style:{width:e.width},component:"th",children:e.name},e.key)}))]})}),Object(f.jsxs)(E.a,{children:[r&&Object(f.jsx)(P.a,{children:Object(f.jsx)(N.a,{component:"td",colSpan:n.length,children:Object(f.jsx)(F.a,{})})}),t.map((function(e){return Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsxs)(P.a,{className:u.row,onClick:function(){return!!Number(e.impressions)&&function(e){if("overall"!==e)return-1===p.indexOf(e)?(h([].concat(Object(j.a)(p),[e])),void o(e)):void h(p.filter((function(t){return t!==e})))}(e.id)},children:["overall"!==e.id?Object(f.jsx)(N.a,{component:"td",onClick:function(e){return e.stopPropagation()},children:Object(f.jsx)(R.a,{checked:-1!==v.indexOf(e.id),color:"primary",onChange:function(t){return n=e.id,void(-1!==v.indexOf(n)?y(v.filter((function(e){return e!==n}))):y([].concat(Object(j.a)(v),[n])));var n}})}):Object(f.jsx)(N.a,{}),n.map((function(t){return Object(f.jsx)(N.a,{className:t.bold?u.bold:void 0,component:"td",children:e[t.key]},t.key)}))]}),-1!==p.indexOf(e.id)&&(c[e.id]?c[e.id].map((function(e){return Object(f.jsx)(P.a,{style:{backgroundColor:"#fff"},children:i.map((function(t){return Object(f.jsx)(N.a,{component:"td",children:e[t.key]},t.key)}))})})):Object(f.jsx)(P.a,{style:{backgroundColor:"#fff"},children:Object(f.jsx)(N.a,{component:"td",colSpan:i.length,children:Object(f.jsx)(F.a,{})})}))]},e.id)}))]})]})}),v.length>0&&Object(f.jsx)(d.a,{component:"div",className:u.footer,children:Object(f.jsx)("div",{children:Object(f.jsx)(C.a,{color:"primary",onClick:w,children:"Remove"})})})]})},B=[{key:"advertiserName",name:"Account Name",width:"30%",bold:!0},{key:"conversion",name:"Conversions"},{key:"clicks",name:"Clicks"},{key:"impressions",name:"Impressions"},{key:"cost_per_conversion",name:"CPA"},{key:"conversion_rate",name:"CR"},{key:"spend",name:"Spend"},{key:"ctr",name:"CTR"},{key:"cpc",name:"CPC"},{key:"balance",name:"Balance"}],L=[{key:"checkbox"},{key:"groupName",width:"30%",bold:!0}].concat(Object(j.a)(B.filter((function(e){return"advertiserName"!==e.key})))),M=["body","isFormData"],W="https://luukapi.com",H=function(e,t){if(0===Object.keys(t).length&&t.constructor!==Object)return e;var n="",r=function(e){Array.isArray(t[e])?n+=t[e].map((function(t){return"&".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t))})).join(""):n+="&".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))};for(var o in t)r(o);return e+"?"+n.slice(1)},U=function(){var e=Object(g.a)(O.a.mark((function e(t){var n,r,o,a,c,i,s,u,l,d,b=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b.length>1&&void 0!==b[1]?b[1]:{},r=n.body,o=n.isFormData,a=Object(v.a)(n,M),c=Object(x.a)({},null===a||void 0===a?void 0:a.params),i=new Headers(Object(x.a)(Object(x.a)({},o?null:{"Content-Type":"application/json"}),a.headers)),s=Object(x.a)(Object(x.a)({method:r?"POST":"GET"},a),{},{params:c,headers:i}),r&&(s.body=o?r:JSON.stringify(r)),t=c?H(t,c):t,e.prev=6,e.next=9,fetch("".concat(W).concat(t),s);case 9:u=e.sent,e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(6),new Error(e.t0);case 15:if(u.ok){e.next=26;break}return e.prev=16,e.next=19,u.json();case 19:return l=e.sent,e.abrupt("return",Promise.reject(l));case 23:return e.prev=23,e.t1=e.catch(16),e.abrupt("return",Promise.reject(u));case 26:return e.prev=26,e.next=29,u.json();case 29:return d=e.sent,e.abrupt("return",d);case 33:return e.prev=33,e.t2=e.catch(26),e.abrupt("return",u);case 36:case"end":return e.stop()}}),e,null,[[6,12],[16,23],[26,33]])})));return function(t){return e.apply(this,arguments)}}(),D={GET:function(){var e=Object(g.a)(O.a.mark((function e(t){var n,r=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,U(t,Object(x.a)({method:"GET"},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),POST:function(){var e=Object(g.a)(O.a.mark((function e(t){var n,r=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,U(t,Object(x.a)({method:"POST"},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),PUT:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return U(e,Object(x.a)({method:"PUT"},t))},PATCH:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return U(e,Object(x.a)({method:"PATCH"},t))},DELETE:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return U(e,Object(x.a)({method:"DELETE"},t))}},G=function(e){return"/stats/".concat(e,"/groups")},J=["metrics"],_=Object(y.a)((function(e){return{root:{paddingBottom:100}}})),Y=function(){var e=_(),t=a.a.useState([]),n=Object(k.a)(t,2),r=n[0],o=n[1],c=a.a.useState({}),i=Object(k.a)(c,2),s=i[0],u=i[1],l=a.a.useState(!1),d=Object(k.a)(l,2),b=d[0],p=d[1],m=a.a.useState([]),y=Object(k.a)(m,2),S=y[0],T=y[1],N=a.a.useState(0),E=Object(k.a)(N,2),I=E[0],P=E[1];a.a.useEffect((function(){var e=JSON.parse(window.localStorage.getItem("filter")||"[]")||[];T(e),P(I+1)}),[]),a.a.useEffect((function(){if(0!==I){var e=function(){var e=Object(g.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,D.GET("/stats/today",{params:{excludeIds:t||[]}});case 4:n=e.sent,o(n.map((function(e){var t=e.metrics,n=Object(v.a)(e,J);return Object(x.a)(Object(x.a)({},t),n)})).sort((function(e,t){return Number(t.impressions)-Number(e.impressions)}))),p(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),p(!1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();e(S);var t=setInterval(e,6e4);return function(){return clearInterval(t)}}}),[I]);var R=function(e){T(e),P(I+1),window.localStorage.setItem("filter",JSON.stringify(e))};return Object(f.jsxs)(w.a,{className:e.root,children:[Object(f.jsx)(A,{rows:r,columns:B,groupColumns:L,isLoading:b,onRowClick:function(e){(function(){var t=Object(g.a)(O.a.mark((function t(n){var r,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.GET(G(n));case 3:r=t.sent,o=r.filter((function(e){var t=e.impressions;return!!Number(t)})).sort((function(e,t){return Number(t.impressions)-Number(e.impressions)})),u(Object(x.a)(Object(x.a)({},s),{},Object(h.a)({},e,o))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}})()(e)},extendedItems:s,onRemove:function(e){var t=[].concat(Object(j.a)(S),Object(j.a)(e)).filter((function(e){return"overall"!==e}));R(t)}}),S.length>0&&Object(f.jsx)(C.a,{onClick:function(){R([])},color:"primary",children:"Reset filter"})]})},$=Object(y.a)((function(e){return{body:{padding:100,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},image:{height:150,width:150},text:{marginTop:40,fontSize:"3rem",fontWeight:400}}})),q=function(){var e=$();return Object(f.jsxs)("div",{className:e.body,children:[Object(f.jsx)("img",{className:e.image,src:"https://img.icons8.com/pastel-glyph/300/000000/page-not-found--v2.png",alt:"not-found"}),Object(f.jsx)("div",{className:e.text,children:"Page not found."})]})},K=function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(p,{}),Object(f.jsxs)(u.c,{children:[Object(f.jsx)(u.a,{path:"/",exact:!0,component:Y}),Object(f.jsx)(u.a,{path:"/",component:q})]})]})},Q=n(50),V=n(8),X=Object(Q.a)({otherColors:{gray:"#e5e5e5"},palette:{primary:{dark:"#0890a0",light:"#55bec8",main:"#0ca2b0"},secondary:{dark:"#fafafa",light:"#fff",main:"#fff"},warning:{dark:"#f93030",light:"#fc7878",main:"#fa3e3e"}},typography:{fontFamily:["Open Sans","sans-serif"].join(","),h1:{fontSize:"2rem",color:"#fff",fontWeight:700},h2:{fontSize:"1.3rem",fontWeight:700},h3:{fontSize:20,fontWeight:700},body1:{color:Object(V.b)("#000",.87),lineHeight:"20px"},body2:{fontSize:"0.8rem"}},overrides:{MuiButton:{root:{fontSize:"1rem",whiteSpace:"nowrap"},textSecondary:{textTransform:"none"},containedSecondary:{textTransform:"none",color:"#fff",backgroundColor:"#0ca2b0","&:hover":{backgroundColor:"#0ca2b0"}}},MuiCssBaseline:{"@global":{html:{fontSize:14},body:{fontFamily:'"Open Sans", sans-serif !important',lineHeight:"20px",backgroundColor:"#fff","& ::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.3)",backgroundColor:"#F5F5F5"},"& ::-webkit-scrollbar":{width:10,height:10,backgroundColor:"#F5F5F5"},"& ::-webkit-scrollbar-thumb":{borderRadius:5,"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,.3)",backgroundColor:"#55bec8"},overflowY:"hidden"},button:{fontFamily:'"Open Sans", sans-serif'},".breakWords":{wordBreak:"break-word"}}},MuiTable:{root:{backgroundColor:"#fafafa",tableLayout:"fixed"}},MuiTableCell:{root:{fontSize:"1.1rem",color:"#222222"},body:{fontSize:"1rem",whiteSpace:"normal",wordBreak:"break-word",padding:"8px 16px"},head:{fontSize:"12px",fontWeight:700,color:"#222222",lineHeight:1.2}},MuiTableSortLabel:{root:{"&:hover":{color:"#222222"},"&:focus":{color:"#222222"}},icon:{color:"#0ca2b0"},active:{"& path":{color:"#0ca2b0"}}},MuiTablePagination:{root:{backgroundColor:"#fafafa"},input:{fontSize:"1rem"}},MuiAccordion:{root:{backgroundColor:"#fafafa","&$expanded":{margin:0}}}}});n(66);i.a.render(Object(f.jsx)(r.a,{theme:X,children:Object(f.jsx)(s.a,{children:Object(f.jsx)(K,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.d65e461d.chunk.js.map