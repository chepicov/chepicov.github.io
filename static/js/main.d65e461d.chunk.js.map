{"version":3,"sources":["components/Header/Header.tsx","components/TikTokTable/TikTokTable.tsx","pages/Dashboard/constants.ts","services/apiClient.ts","constants/endpoints.ts","pages/Dashboard/Dashboard.tsx","pages/NotFound/NotFound.tsx","App.tsx","theme/index.ts","index.tsx"],"names":["Header","AppBar","position","Toolbar","to","Typography","variant","useStyles","makeStyles","theme","table","bold","fontWeight","row","backgroundColor","cursor","footer","width","top","bottom","TikTokTable","rows","columns","isLoading","onRowClick","extendedItems","groupColumns","onRemove","classes","React","useState","openRows","setOpenRows","checkedRows","setCheckedRows","handleRemove","a","className","TableContainer","Table","TableHead","TableRow","TableCell","component","Checkbox","checked","length","color","onChange","map","item","id","column","style","name","key","TableBody","colSpan","CircularProgress","Fragment","onClick","Number","impressions","indexOf","filter","handleRowClick","e","stopPropagation","undefined","extended","Button","TIKTOK_COLUMNS","TIKTOK_GROUP_COLUMNS","c","baseUrl","attachParamsToEndpoint","endpoint","params","Object","keys","constructor","createdParams","Array","isArray","param","encodeURIComponent","join","slice","apiClient","body","isFormData","customConfig","headers","Headers","config","method","JSON","stringify","fetch","results","Error","ok","json","Promise","reject","ApiClient","GET","POST","PUT","PATCH","DELETE","groupsByAdvertiser","root","paddingBottom","Dashboard","statistics","setStatistics","groups","setGroups","setLoading","removedRows","setRemovedRows","updateIndex","setUpdateIndex","useEffect","idsFromStorage","parse","window","localStorage","getItem","loadAdvertisers","filteredIds","excludeIds","stats","metrics","sort","b","console","error","interval","setInterval","clearInterval","setFilter","ids","setItem","Paper","advertiserId","advertiserStats","groupObjs","getAdvertiserGroups","newIds","padding","display","flexDirection","justifyContent","alignItems","image","height","text","marginTop","fontSize","NotFound","src","alt","App","path","exact","MainPage","createMuiTheme","otherColors","gray","palette","primary","dark","light","main","secondary","warning","typography","fontFamily","h1","h2","h3","body1","fade","lineHeight","body2","overrides","MuiButton","whiteSpace","textSecondary","textTransform","containedSecondary","MuiCssBaseline","html","borderRadius","overflowY","button","wordBreak","MuiTable","tableLayout","MuiTableCell","head","MuiTableSortLabel","icon","active","MuiTablePagination","input","MuiAccordion","margin","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d65e461d.chunk.js","sourcesContent":["import React from 'react';\nimport { AppBar, Toolbar, Typography } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\n\nconst Header = () => {\n  return (\n    <div>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Link to=\"/\">\n            <Typography variant=\"h1\">\n              Luuk\n            </Typography>\n          </Link>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nimport { makeStyles, TableBody, TableCell, TableHead, Table, Button } from '@material-ui/core';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst TikTokTable: React.FC<Props> = ({ rows, columns, isLoading, onRowClick, extendedItems, groupColumns, onRemove }) => {\n  const classes = useStyles();\n\n  const [openRows, setOpenRows] = React.useState<string[]>([]);\n  const [checkedRows, setCheckedRows] = React.useState<string[]>([]);\n\n  const handleRowClick = (id: string) => {\n    if (id === 'overall') return;\n    if (openRows.indexOf(id) === -1) {\n      setOpenRows([...openRows, id]);\n      onRowClick(id);\n      return;\n    }\n    setOpenRows(openRows.filter(item => item !== id))\n  }\n\n  const handleCheck = (id: string) => {\n    if (checkedRows.indexOf(id) === -1) {\n      setCheckedRows([...checkedRows, id]);\n      return;\n    }\n    setCheckedRows(checkedRows.filter(item => item !== id));\n  }\n\n  const handleCheckAll = () => {\n    if (checkedRows.length !== rows.length) {\n      setCheckedRows(rows.map(item => item.id));\n      return;\n    }\n    setCheckedRows([]);\n  }\n\n  const handleRemove = async () => {\n    onRemove(checkedRows);\n    setCheckedRows([]);\n  }\n\n  return (\n    <div className={classes.table}>\n      <TableContainer>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell component='th'>\n                <Checkbox\n                  checked={checkedRows.length === rows.length}\n                  color={'primary'}\n                  onChange={() => handleCheckAll()}\n                />\n              </TableCell>\n              {columns.map((column) => (\n                <TableCell\n                  style={{ width: column.width }}\n                  key={column.key}\n                  component='th'\n                >\n                  {column.name}\n                </TableCell>\n              ))}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {isLoading && (\n              <TableRow>\n                <TableCell component='td' colSpan={columns.length}>\n                  <CircularProgress />\n                </TableCell>\n              </TableRow>\n            )}\n            {rows.map((row: any) => {\n              return (\n                <React.Fragment key={row.id}>\n                  <TableRow className={classes.row} onClick={() => !!Number(row.impressions) && handleRowClick(row.id)}>\n                    {row.id !== 'overall' ? (\n                      <TableCell component='td' onClick={(e) => e.stopPropagation()}>\n                        <Checkbox\n                          checked={checkedRows.indexOf(row.id) !== -1}\n                          color={'primary'}\n                          onChange={(e) => handleCheck(row.id)}\n                        />\n                      </TableCell>\n                    ) : <TableCell />}\n                    {columns.map((column) => (\n                      <TableCell className={column.bold ? classes.bold : undefined} key={column.key} component='td'>{row[column.key]}</TableCell>\n                    ))}\n                  </TableRow>\n                  {openRows.indexOf(row.id) !== -1\n                    && (extendedItems[row.id]\n                      ? extendedItems[row.id].map((extended: any) => (\n                        <TableRow style={{ backgroundColor: '#fff'}}>\n                          {groupColumns.map((column) => (\n                            <TableCell key={column.key} component='td'>{extended[column.key]}</TableCell>\n                          ))}\n                        </TableRow>\n                      )) : (\n                        <TableRow style={{ backgroundColor: '#fff'}}>\n                          <TableCell component='td' colSpan={groupColumns.length}>\n                            <CircularProgress />\n                          </TableCell>\n                        </TableRow>\n                      ))\n                  }\n                </React.Fragment>\n              )\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      {checkedRows.length > 0 && (\n        <Toolbar component={'div'} className={classes.footer}>\n          <div>\n            <Button color={'primary'} onClick={handleRemove}>Remove</Button>\n          </div>\n        </Toolbar>\n      )}\n    </div>\n  )\n}\n\nconst useStyles = makeStyles((theme) => ({\n  table: {},\n  bold: {\n    fontWeight: 'bold',\n  },\n  row: {\n    '&:hover': {\n      backgroundColor: '#cccaca',\n    },\n    backgroundColor: '#ececec',\n    cursor: 'pointer',\n  },\n  footer: {\n    width: '100%',\n    backgroundColor: '#fff',\n    position: 'fixed',\n    top: 'auto',\n    bottom: 0,\n  },\n}))\n\ninterface Props {\n  rows: any[];\n  columns: any[];\n  groupColumns: any[];\n  extendedItems: any;\n  isLoading: boolean;\n  onRowClick: (id: string) => void;\n  onRemove: (ids: string[]) => void;\n}\n\nexport default TikTokTable;","export const TIKTOK_COLUMNS = [\n  { key: 'advertiserName', name: 'Account Name', width: '30%', bold: true },\n  { key: 'conversion', name: 'Conversions' },\n  { key: 'clicks', name: 'Clicks' },\n  { key: 'impressions', name: 'Impressions' },\n  { key: 'cost_per_conversion', name: 'CPA' },\n  { key: 'conversion_rate', name: 'CR' },\n  { key: 'spend', name: 'Spend' },\n  { key: 'ctr', name: 'CTR' },\n  { key: 'cpc', name: 'CPC' },\n  { key: 'balance', name: 'Balance' },\n];\n\nexport const TIKTOK_GROUP_COLUMNS = [\n  { key: 'checkbox' },\n  { key: 'groupName', width: '30%', bold: true },\n  ...TIKTOK_COLUMNS.filter(c => c.key !== 'advertiserName'),\n];\n","// const baseUrl = 'http://localhost:3001'\nconst baseUrl = 'https://luukapi.com'\n\ninterface IConfig<P = any> {\n  params?: P;\n  isFormData?: boolean;\n  isOauth?: boolean;\n  body?: any;\n  headers?: any;\n  observe?: string;\n  responseType?: string;\n}\n\ninterface IFullConfig<P = any> extends IConfig<P> {\n  method?: string;\n}\n\nconst attachParamsToEndpoint = (endpoint: string, params: any): string => {\n  if (Object.keys(params).length === 0 && params.constructor !== Object) {\n    return endpoint;\n  }\n\n  let createdParams: string = '';\n\n  for (let key in params) {\n    if (Array.isArray(params[key])) {\n      createdParams =\n        createdParams +\n        params[key].map((param: string) => `&${encodeURIComponent(key)}=${encodeURIComponent(param)}`).join('');\n    } else {\n      createdParams = createdParams + `&${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`;\n    }\n  }\n  return endpoint + '?' + createdParams.slice(1);\n};\n\nconst apiClient = async (endpoint: string, { body, isFormData, ...customConfig }: IFullConfig = {}) => {\n  const params = {\n    ...customConfig?.params,\n  }\n  const headers: HeadersInit = new Headers({\n    ...(isFormData ? null : { 'Content-Type': 'application/json' }),\n    ...customConfig.headers,\n  });\n\n  const config: IFullConfig = {\n    method: body ? 'POST' : 'GET',\n    ...customConfig,\n    params,\n    headers,\n  };\n\n  if (body) {\n    config.body = isFormData ? body : JSON.stringify(body);\n  }\n\n  endpoint = params ? attachParamsToEndpoint(endpoint, params) : endpoint;\n\n  let results\n  try {\n    results = await fetch(`${baseUrl}${endpoint}`, config);\n  } catch (err) {\n    throw new Error(err);\n  }\n\n  if (!results.ok) {\n    try {\n      const json = await results.json();\n      return Promise.reject(json);\n    } catch (error) {\n      return Promise.reject(results);\n    }\n  }\n\n  try {\n    const json = await results.json();\n    return json;\n  } catch (err) {\n    return results;\n  }\n};\n\nconst GET = async (endpoint: string, config: IConfig = {}) => {\n  return await apiClient(endpoint, {\n    method: 'GET',\n    ...config,\n  });\n};\n\nconst POST = async (endpoint: string, config: IConfig = {}) => {\n  return await apiClient(endpoint, {\n    method: 'POST',\n    ...config,\n  });\n};\n\nconst PUT = (endpoint: string, config: IConfig = {}) => {\n  return apiClient(endpoint, {\n    method: 'PUT',\n    ...config,\n  });\n};\n\nconst PATCH = (endpoint: string, config: IConfig = {}) => {\n  return apiClient(endpoint, {\n    method: 'PATCH',\n    ...config,\n  });\n};\n\nconst DELETE = (endpoint: string, config: IConfig = {}) => {\n  return apiClient(endpoint, {\n    method: 'DELETE',\n    ...config,\n  });\n};\n\nconst ApiClient = { GET, POST, PUT, PATCH, DELETE };\n\nexport default ApiClient;\n","export const todayStats = '/stats/today';\nexport const groupsByAdvertiser = (id: string) => `/stats/${id}/groups`;","import React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\n\nimport TikTokTable from '../../components/TikTokTable';\nimport { TIKTOK_COLUMNS, TIKTOK_GROUP_COLUMNS } from './constants'\nimport ApiClient from '../../services/apiClient';\nimport { groupsByAdvertiser, todayStats } from '../../constants/endpoints';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    paddingBottom: 100,\n  },\n}));\n\n\nconst Dashboard = () => {\n  const classes = useStyles();\n  const [statistics, setStatistics] = React.useState([]);\n  const [groups, setGroups] = React.useState<any>({});\n  const [isLoading, setLoading] = React.useState(false);\n  const [removedRows, setRemovedRows] = React.useState<string[]>([]);\n  const [updateIndex, setUpdateIndex] = React.useState<number>(0);\n\n  React.useEffect(() => {\n    const idsFromStorage = JSON.parse(window.localStorage.getItem('filter') || '[]') || [];\n    setRemovedRows(idsFromStorage);\n    setUpdateIndex(updateIndex + 1);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  React.useEffect(() => {\n    if (updateIndex === 0) return;\n    const loadAdvertisers = async (filteredIds: string[]) => {\n      setLoading(true);\n      try {\n        const stats = await ApiClient.GET(todayStats, { params: { excludeIds: filteredIds || [] } });\n        setStatistics(stats\n          .map(({ metrics, ...item }: MetricsItem) => ({ ...metrics, ...item }))\n          .sort((a: any, b: any) => Number(b.impressions) - Number(a.impressions)));\n        setLoading(false);\n      } catch (error) {\n        setLoading(false);\n        console.error(error);\n      }\n    }\n    loadAdvertisers(removedRows);\n    const interval = setInterval(loadAdvertisers, 60 * 1000)\n    return () => clearInterval(interval);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [updateIndex])\n\n  const handleRowClick = (advertiserId: string) => {\n    const getAdvertiserGroups = async (id: string) => {\n      try {\n        const advertiserStats = await ApiClient.GET(groupsByAdvertiser(id));\n        const groupObjs = advertiserStats\n          .filter(({ impressions }: any) => !!Number(impressions))\n          .sort((a: any, b: any) => Number(b.impressions) - Number(a.impressions));\n        setGroups({ ...groups, [advertiserId]: groupObjs })\n      } catch (error) {\n        console.error(error);\n      }\n    }\n    getAdvertiserGroups(advertiserId);\n  }\n\n  const setFilter = (ids: string[]) => {\n    setRemovedRows(ids);\n    setUpdateIndex(updateIndex + 1);\n    window.localStorage.setItem('filter', JSON.stringify(ids));\n  }\n\n  const handleRowsRemove = (ids: string[]) => {\n    const newIds = [...removedRows, ...ids].filter(item => item !== 'overall');\n    setFilter(newIds);\n  }\n\n  const handleReset = () => {\n    setFilter([]);\n  }\n\n  return (\n    <Paper className={classes.root}>\n      <TikTokTable\n        rows={statistics}\n        columns={TIKTOK_COLUMNS}\n        groupColumns={TIKTOK_GROUP_COLUMNS}\n        isLoading={isLoading}\n        onRowClick={handleRowClick}\n        extendedItems={groups}\n        onRemove={handleRowsRemove}\n      />\n      {removedRows.length > 0 && (\n        <Button onClick={() => handleReset()} color={'primary'}>\n          Reset filter\n        </Button>\n      )}\n    </Paper>\n  )\n}\n\nexport default Dashboard;\n\ntype TiktokMetrics = 'spend' | 'impressions' | 'cpc' | 'ctr' | 'clicks' | 'conversion' | 'cost_per_conversion' | 'conversion_rate';\ninterface MetricsItem {\n  id: string;\n  name?: string;\n  metrics: { [key in TiktokMetrics]: string };\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  body: {\n    padding: 100,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  image: {\n    height: 150,\n    width: 150,\n  },\n  text: {\n    marginTop: 40,\n    fontSize: '3rem',\n    fontWeight: 400,\n  }\n}));\n\nconst NotFound = () => {\n  const classes = useStyles();\n  return (\n    <div className={classes.body}>\n      <img className={classes.image} src=\"https://img.icons8.com/pastel-glyph/300/000000/page-not-found--v2.png\" alt=\"not-found\"/>\n      <div className={classes.text}>\n        Page not found.\n      </div>\n    </div>\n  )\n}\n\nexport default NotFound;","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport Header from './components/Header';\nimport MainPage from './pages/Dashboard';\nimport NotFound from './pages/NotFound';\n\nconst App = () => {\n  return (\n    <div>\n      <Header />\n      <Switch>\n        <Route path='/' exact component={MainPage} />\n        <Route path='/' component={NotFound} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import { createMuiTheme, fade } from '@material-ui/core/styles';\nimport React from 'react';\n\ndeclare module '@material-ui/core/styles/createMuiTheme' {\n  interface Theme {\n    otherColors: {\n      gray: React.CSSProperties['color'];\n    };\n  }\n  interface ThemeOptions {\n    otherColors: {\n      gray: React.CSSProperties['color'];\n    };\n  }\n}\n\nconst theme = createMuiTheme({\n  otherColors: {\n    gray: '#e5e5e5',\n  },\n  palette: {\n    primary: {\n      dark: '#0890a0',\n      light: '#55bec8',\n      main: '#0ca2b0',\n    },\n    secondary: {\n      dark: '#fafafa',\n      light: '#fff',\n      main: '#fff',\n    },\n    warning: {\n      dark: '#f93030',\n      light: '#fc7878',\n      main: '#fa3e3e',\n    },\n  },\n  typography: {\n    fontFamily: ['Open Sans', 'sans-serif'].join(','),\n    h1: {\n      fontSize: '2rem',\n      color: '#fff',\n      fontWeight: 700,\n    },\n    h2: {\n      fontSize: '1.3rem',\n      fontWeight: 700,\n    },\n    h3: {\n      fontSize: 20,\n      fontWeight: 700,\n    },\n    body1: {\n      color: fade('#000', 0.87),\n      lineHeight: '20px',\n    },\n    body2: {\n      fontSize: '0.8rem',\n    },\n  },\n  overrides: {\n    MuiButton: {\n      root: {\n        fontSize: '1rem',\n        whiteSpace: 'nowrap',\n      },\n      textSecondary: {\n        textTransform: 'none',\n      },\n      containedSecondary: {\n        textTransform: 'none',\n        color: '#fff',\n        backgroundColor: '#0ca2b0',\n        '&:hover': {\n          backgroundColor: '#0ca2b0',\n        },\n      },\n    },\n    MuiCssBaseline: {\n      '@global': {\n        html: {\n          fontSize: 14,\n        },\n        body: {\n          fontFamily: '\"Open Sans\", sans-serif !important',\n          lineHeight: '20px',\n          backgroundColor: '#fff',\n          '& ::-webkit-scrollbar-track': {\n            '-webkit-box-shadow': 'inset 0 0 6px rgba(0,0,0,0.3)',\n            backgroundColor: '#F5F5F5',\n          },\n          '& ::-webkit-scrollbar': {\n            width: 10,\n            height: 10,\n            backgroundColor: '#F5F5F5',\n          },\n          '& ::-webkit-scrollbar-thumb': {\n            borderRadius: 5,\n            '-webkit-box-shadow': 'inset 0 0 6px rgba(0,0,0,.3)',\n            backgroundColor: '#55bec8',\n          },\n          overflowY: 'hidden',\n        },\n        button: {\n          fontFamily: '\"Open Sans\", sans-serif',\n        },\n        '.breakWords': {\n          wordBreak: 'break-word',\n        },\n      },\n    },\n    MuiTable: {\n      root: {\n        backgroundColor: '#fafafa',\n        tableLayout: 'fixed',\n      },\n    },\n    MuiTableCell: {\n      root: {\n        fontSize: '1.1rem',\n        color: '#222222',\n      },\n      body: {\n        fontSize: '1rem',\n        whiteSpace: 'normal',\n        wordBreak: 'break-word',\n        padding: '8px 16px',\n      },\n      head: {\n        fontSize: '12px',\n        fontWeight: 700,\n        color: '#222222',\n        lineHeight: 1.2,\n      },\n    },\n    MuiTableSortLabel: {\n      root: {\n        '&:hover': {\n          color: '#222222',\n        },\n        '&:focus': {\n          color: '#222222',\n        },\n      },\n      icon: {\n        color: '#0ca2b0',\n      },\n      active: {\n        '& path': {\n          color: '#0ca2b0',\n        },\n      },\n    },\n    MuiTablePagination: {\n      root: {\n        backgroundColor: '#fafafa',\n      },\n      input: {\n        fontSize: '1rem',\n      },\n    },\n    MuiAccordion: {\n      root: {\n        backgroundColor: '#fafafa',\n        '&$expanded': {\n          margin: 0,\n        },\n      },\n    },\n  },\n});\n\nexport default theme;\n","import { MuiThemeProvider } from '@material-ui/core';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\nimport theme from './theme';\n\nimport './index.css'\n\nReactDOM.render(\n  <MuiThemeProvider theme={theme}>\n    <Router>\n      <App />\n    </Router>\n  </MuiThemeProvider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}