(this.webpackJsonpluuk=this.webpackJsonpluuk||[]).push([[0],{65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var r=n(102),o=n(0),a=n.n(o),c=n(24),i=n.n(c),s=n(27),u=n(9),l=n(104),d=n(91),b=n(92),f=n(2),p=function(){return Object(f.jsx)("div",{children:Object(f.jsx)(l.a,{position:"static",children:Object(f.jsx)(d.a,{children:Object(f.jsx)(s.b,{to:"/",children:Object(f.jsx)(b.a,{variant:"h1",children:"Luuk"})})})})})},m=n(22),j=n(18),h=n(13),O=n.n(h),x=n(12),v=n(40),g=n(19),k=n(20),y=n(101),w=n(100),C=n(94),S=n(95),T=n(97),N=n(98),R=n(93),z=n(96),E=n(103),I=n(99),P=Object(y.a)((function(e){var t,n;return{table:{"& td":(t={},Object(j.a)(t,e.breakpoints.down("lg"),{fontSize:"1rem",padding:4}),Object(j.a)(t,e.breakpoints.down("sm"),{fontSize:"0.6rem",padding:4,width:45}),t),"& th":(n={},Object(j.a)(n,e.breakpoints.down("lg"),{fontSize:"1rem",padding:4}),Object(j.a)(n,e.breakpoints.down("sm"),{fontSize:"0.6rem",padding:4}),n)},customTableContainer:{overflowX:"initial"},bold:{fontWeight:"bold"},row:{"&:hover":{backgroundColor:"#cccaca"},backgroundColor:"#ececec",cursor:"pointer"},footer:{width:"100%",backgroundColor:"#fff",position:"fixed",top:"auto",bottom:0},checkbox:{width:42}}})),F=function(e){var t=e.rows,n=e.columns,r=e.isLoading,o=e.onRowClick,c=e.extendedItems,i=e.groupColumns,s=e.onRemove,u=e.onRemoveOther,l=P(),b=a.a.useState([]),p=Object(k.a)(b,2),j=p[0],h=p[1],x=a.a.useState([]),v=Object(k.a)(x,2),y=v[0],F=v[1],A=function(){var e=Object(g.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(y),F([]);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:l.table,children:[Object(f.jsx)(R.a,{classes:{root:l.customTableContainer},children:Object(f.jsxs)(C.a,{stickyHeader:!0,children:[Object(f.jsx)(S.a,{children:Object(f.jsxs)(z.a,{children:[Object(f.jsx)(T.a,{component:"th",className:l.checkbox,children:Object(f.jsx)(E.a,{checked:y.length===t.length,color:"primary",onChange:function(){y.length===t.length?F([]):F(t.map((function(e){return e.id})))}})}),n.map((function(e){return Object(f.jsx)(T.a,{style:{width:e.width},component:"th",children:e.name},e.key)}))]})}),Object(f.jsxs)(N.a,{children:[r&&Object(f.jsx)(z.a,{children:Object(f.jsx)(T.a,{component:"td",colSpan:n.length,children:Object(f.jsx)(I.a,{})})}),t.map((function(e){return Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsxs)(z.a,{className:l.row,onClick:function(){return!!Number(e.impressions)&&function(e){if("overall"!==e)return-1===j.indexOf(e)?(h([].concat(Object(m.a)(j),[e])),void o(e)):void h(j.filter((function(t){return t!==e})))}(e.id)},children:["overall"!==e.id?Object(f.jsx)(T.a,{component:"td",onClick:function(e){return e.stopPropagation()},children:Object(f.jsx)(E.a,{checked:-1!==y.indexOf(e.id),color:"primary",onChange:function(t){return n=e.id,void(-1!==y.indexOf(n)?F(y.filter((function(e){return e!==n}))):F([].concat(Object(m.a)(y),[n])));var n}})}):Object(f.jsx)(T.a,{}),n.map((function(t){return Object(f.jsx)(T.a,{className:t.bold?l.bold:void 0,component:"td",children:e[t.key]},t.key)}))]}),-1!==j.indexOf(e.id)&&(c[e.id]?c[e.id].map((function(e){return Object(f.jsx)(z.a,{style:{backgroundColor:"#fff"},children:i.map((function(t){return Object(f.jsx)(T.a,{component:"td",children:e[t.key]},t.key)}))})})):Object(f.jsx)(z.a,{style:{backgroundColor:"#fff"},children:Object(f.jsx)(T.a,{component:"td",colSpan:i.length,children:Object(f.jsx)(I.a,{})})}))]},e.id)}))]})]})}),y.length>0&&Object(f.jsx)(d.a,{component:"div",className:l.footer,children:Object(f.jsxs)("div",{children:[Object(f.jsx)(w.a,{color:"primary",onClick:function(){u(y),F([])},children:"Remove Other"}),Object(f.jsx)(w.a,{color:"primary",onClick:A,children:"Remove"})]})})]})},A=[{key:"advertiserName",name:"Account Name",width:"15%",bold:!0},{key:"conversion",name:"Conversions"},{key:"cost_per_conversion",name:"CPA"},{key:"ctr",name:"CTR"},{key:"clicks",name:"Clicks"},{key:"impressions",name:"Impressions"},{key:"conversion_rate",name:"CR"},{key:"spend",name:"Spend"},{key:"cpc",name:"CPC"},{key:"balance",name:"Balance"}],B=[{key:"checkbox"},{key:"groupName",width:"20%",bold:!0}].concat(Object(m.a)(A.filter((function(e){return"advertiserName"!==e.key})))),H=["body","isFormData"],L="https://luukapi.com",M=function(e,t){if(0===Object.keys(t).length&&t.constructor!==Object)return e;var n="",r=function(e){Array.isArray(t[e])?n+=t[e].map((function(t){return"&".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t))})).join(""):n+="&".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))};for(var o in t)r(o);return e+"?"+n.slice(1)},W=function(){var e=Object(g.a)(O.a.mark((function e(t){var n,r,o,a,c,i,s,u,l,d,b=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b.length>1&&void 0!==b[1]?b[1]:{},r=n.body,o=n.isFormData,a=Object(v.a)(n,H),c=Object(x.a)({},null===a||void 0===a?void 0:a.params),i=new Headers(Object(x.a)(Object(x.a)({},o?null:{"Content-Type":"application/json"}),a.headers)),s=Object(x.a)(Object(x.a)({method:r?"POST":"GET"},a),{},{params:c,headers:i}),r&&(s.body=o?r:JSON.stringify(r)),t=c?M(t,c):t,e.prev=6,e.next=9,fetch("".concat(L).concat(t),s);case 9:u=e.sent,e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(6),new Error(e.t0);case 15:if(u.ok){e.next=26;break}return e.prev=16,e.next=19,u.json();case 19:return l=e.sent,e.abrupt("return",Promise.reject(l));case 23:return e.prev=23,e.t1=e.catch(16),e.abrupt("return",Promise.reject(u));case 26:return e.prev=26,e.next=29,u.json();case 29:return d=e.sent,e.abrupt("return",d);case 33:return e.prev=33,e.t2=e.catch(26),e.abrupt("return",u);case 36:case"end":return e.stop()}}),e,null,[[6,12],[16,23],[26,33]])})));return function(t){return e.apply(this,arguments)}}(),U={GET:function(){var e=Object(g.a)(O.a.mark((function e(t){var n,r=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,W(t,Object(x.a)({method:"GET"},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),POST:function(){var e=Object(g.a)(O.a.mark((function e(t){var n,r=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,W(t,Object(x.a)({method:"POST"},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),PUT:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return W(e,Object(x.a)({method:"PUT"},t))},PATCH:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return W(e,Object(x.a)({method:"PATCH"},t))},DELETE:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return W(e,Object(x.a)({method:"DELETE"},t))}},D=function(e){return"/stats/".concat(e,"/groups")},G=["metrics"],J=Object(y.a)((function(e){return{root:{marginBottom:100}}})),_=function(){var e=J(),t=a.a.useState([]),n=Object(k.a)(t,2),r=n[0],o=n[1],c=a.a.useState({}),i=Object(k.a)(c,2),s=i[0],u=i[1],l=a.a.useState(!1),d=Object(k.a)(l,2),b=d[0],p=d[1],h=a.a.useState([]),y=Object(k.a)(h,2),C=y[0],S=y[1],T=a.a.useState(0),N=Object(k.a)(T,2),R=N[0],z=N[1];a.a.useEffect((function(){var e=JSON.parse(window.localStorage.getItem("filter")||"[]")||[];S(e),z(R+1)}),[]),a.a.useEffect((function(){if(0!==R){var e=function(){var e=Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,console.log(C),e.next=5,U.GET("/stats/today",{params:{excludeIds:C||[]}});case 5:t=e.sent,o(t.map((function(e){var t=e.metrics,n=Object(v.a)(e,G);return Object(x.a)(Object(x.a)({},t),n)})).sort((function(e,t){return Number(t.impressions)-Number(e.impressions)}))),p(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),p(!1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();e();var t=setInterval(e,6e4);return function(){return clearInterval(t)}}}),[R,C]);var E=function(e){var t=e.filter((function(e){return"overall"!==e}));S(t),z(R+1),window.localStorage.setItem("filter",JSON.stringify(t))};return Object(f.jsxs)("div",{className:e.root,children:[Object(f.jsx)(F,{rows:r,columns:A,groupColumns:B,isLoading:b,onRowClick:function(e){(function(){var t=Object(g.a)(O.a.mark((function t(n){var r,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.GET(D(n));case 3:r=t.sent,o=r.filter((function(e){var t=e.impressions;return!!Number(t)})).sort((function(e,t){return Number(t.impressions)-Number(e.impressions)})),u(Object(x.a)(Object(x.a)({},s),{},Object(j.a)({},e,o))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}})()(e)},extendedItems:s,onRemove:function(e){var t=[].concat(Object(m.a)(C),Object(m.a)(e));E(t)},onRemoveOther:function(e){var t=r.map((function(e){return e.id})).filter((function(t){return-1===e.indexOf(t)}));E(t)}}),C.length>0&&Object(f.jsx)(w.a,{onClick:function(){E([])},color:"primary",children:"Reset filter"})]})},X=Object(y.a)((function(e){return{body:{padding:100,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},image:{height:150,width:150},text:{marginTop:40,fontSize:"3rem",fontWeight:400}}})),Y=function(){var e=X();return Object(f.jsxs)("div",{className:e.body,children:[Object(f.jsx)("img",{className:e.image,src:"https://img.icons8.com/pastel-glyph/300/000000/page-not-found--v2.png",alt:"not-found"}),Object(f.jsx)("div",{className:e.text,children:"Page not found."})]})},$=function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(p,{}),Object(f.jsxs)(u.c,{children:[Object(f.jsx)(u.a,{path:"/",exact:!0,component:_}),Object(f.jsx)(u.a,{path:"/",component:Y})]})]})},q=n(50),K=n(8),Q=Object(q.a)({otherColors:{gray:"#e5e5e5"},palette:{primary:{dark:"#0890a0",light:"#55bec8",main:"#0ca2b0"},secondary:{dark:"#fafafa",light:"#fff",main:"#fff"},warning:{dark:"#f93030",light:"#fc7878",main:"#fa3e3e"}},typography:{fontFamily:["Open Sans","sans-serif"].join(","),h1:{fontSize:"2rem",color:"#fff",fontWeight:700},h2:{fontSize:"1.3rem",fontWeight:700},h3:{fontSize:20,fontWeight:700},body1:{color:Object(K.b)("#000",.87),lineHeight:"20px"},body2:{fontSize:"0.8rem"}},overrides:{MuiButton:{root:{fontSize:"1rem",whiteSpace:"nowrap"},textSecondary:{textTransform:"none"},containedSecondary:{textTransform:"none",color:"#fff",backgroundColor:"#0ca2b0","&:hover":{backgroundColor:"#0ca2b0"}}},MuiCssBaseline:{"@global":{html:{fontSize:14},body:{fontFamily:'"Open Sans", sans-serif !important',lineHeight:"20px",backgroundColor:"#fff","& ::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.3)",backgroundColor:"#F5F5F5"},"& ::-webkit-scrollbar":{width:10,height:10,backgroundColor:"#F5F5F5"},"& ::-webkit-scrollbar-thumb":{borderRadius:5,"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,.3)",backgroundColor:"#55bec8"},overflowY:"hidden"},button:{fontFamily:'"Open Sans", sans-serif'},".breakWords":{wordBreak:"break-word"}}},MuiTable:{root:{backgroundColor:"#fafafa",tableLayout:"fixed"}},MuiTableCell:{root:{fontSize:"1.1rem",color:"#222222"},body:{fontSize:"1rem",whiteSpace:"normal",wordBreak:"break-word",padding:"8px 16px"},head:{fontSize:"12px",fontWeight:700,color:"#222222",lineHeight:1.2}},MuiTableSortLabel:{root:{"&:hover":{color:"#222222"},"&:focus":{color:"#222222"}},icon:{color:"#0ca2b0"},active:{"& path":{color:"#0ca2b0"}}},MuiTablePagination:{root:{backgroundColor:"#fafafa"},input:{fontSize:"1rem"}},MuiAccordion:{root:{backgroundColor:"#fafafa","&$expanded":{margin:0}}}},breakpoints:{values:{xs:0,sm:600,md:900,lg:1200,xl:1536}}});n(65);i.a.render(Object(f.jsx)(r.a,{theme:Q,children:Object(f.jsx)(s.a,{children:Object(f.jsx)($,{})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.1a908ede.chunk.js.map